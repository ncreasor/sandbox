# RELEASE NOTES 

## История создания
- **3 марта 2024**: Предварительная версия бота была создана для Discord канала на Minecraft сервере.
- **1 июня 2024**: Начало разработки основного бота для работы с Pyrus.
- **20 июля 2024**: Дата релиза первого полноценного бота.

## Таблица версий

| Версия   | Дата         | Основные изменения                                        |
|----------|--------------|-----------------------------------------------------------|
| 1.0.0    | 20.07.2024   | Первый релиз бота на Flask, размещение на Heroku          |
| 2.0.0    | 12.2024      | Первая кастомная модель, улучшение обработки ошибок       |
| 3.0.0    | 01.2025      | Разделение кода, добавлена веб-панель                     |
| 4.0.0    | 01.2025      | Переход на Quart, логирование, рефакторинг                |
| 4.2.0    | 15.03.2025   | Автозаполнение форм, умный поиск                          |
| 5.0.0    | 01.06.2025   | Релиз полноценного веб-интерфейса, мультиарендность       |
| 5.1.0    | 12.06.2025   | Динамические поля, расширенный поиск клиента              |
| 5.2.0    | 17.06.2025   | Обработка вложений через GPT-4o, переход на OpenAI stack  |

## Версия 1.0.0 - Релиз бота
Бот работал на **`Flask`** и был размещен на **[Heroku](https://www.heroku.com/)**.
Основные возможности:
1. Ответы по шаблонам, игнорирование вложений.
2. Передача заявок в техподдержку при:
    - Ответе с двумя точками подряд (`..`).
    - Ответе с упоминанием `AnyDesk`.
    - Сообщении, начинающемся с (`-`).
3. Бот игнорировал сообщения сотрудников, начинающиеся с (`.`).
4. Оповещения о нерабочем времени.

## Декабрь 2024 - Версия 2.0.0
- **Замена модели GPT** на специально обученную модель.
- Бот стал короче и лучше **обрабатывать ошибки**.

## Версия 2.1.0
- **Автоматическое отключение** бота при получении сообщений из группы.

## Версия 2.2.0
- **Рефакторинг логики**: улучшена структура, но функционал не изменился.
- Меньше запросов, экономия токенов.

## Версия 2.3.0
- **Сокращение кода** за счет изменений в логике.
- Добавлен **(`.env`)** файл для улучшенной безопасности.

## Январь 2025 - Версия 3.0.0
- Разделение кода на два файла: основной и файл бота для обработки сообщений.
- Добавлена **веб панель** в качестве заглушки.
- Улучшена логика, уменьшение лишних запросов.
- Бот начал **различать выходные и будние дни**, с предупреждениями о разном рабочем времени.

## Январь - Версия 4.0.0
- **Сокращение кода** и постепенное добавление нового функционала.
- Добавлено **логирование** через `print`, так как **[Heroku](https://www.heroku.com/)** не поддерживает стандартное логирование.
- Переход с **`Flask`** на **`Quart`** для асинхронности.

## 15 февраля - Версия 4.0.1: Старт разработки новой модели [GPT](https://platform.openai.com/docs/guides/fine-tuning)
- Начало разработки **новой модели GPT**, которая будет консультировать практически по всем вопросам.
- Логика бота изменена: сотрудники могут писать клиенту без необходимости отправлять минус, **бот отключается автоматически**.

## 9 марта - Версия 4.0.2
- Добавлена возможность **обработки фотографий**: бот распознает текст с изображений и помогает решать ошибки, если они есть.

## 10 марта - Версия 4.0.3
- Добавлена **транскрипция аудиосообщений**. Бот теперь понимает речь и может помогать по аудиофайлам.

## 12 марта - Версия 4.0.4
- Переезд с **`Heroku`** на **[Railway](https://railway.com/)**, что открывает новые возможности для работы.

## 13 марта - Версия 4.1.0 
- Внедрение ключевой функции для решения **`дня ОФД`**:
  - **На 4-й день каждого месяца** бот спрашивает клиента, связана ли проблема с **ОФД**.
  - Если да, бот предлагает оплатить ОФД, если нет — продолжает диалог.

## 14 марта - Версия 4.1.1
- Вместо заглушки в **веб панели** добавлена информация о [версии](https://botbot-demo-production.up.railway.app/) бота.

## 15 марта - Версия 4.2.0
- Добавлен микросервис для **автоматического заполнения полей формы** ключевыми моментами из переписки.

## 22 марта - Версия 4.2.1
- Добавлен **умный поиск** заведения по справочнику.

## 27 марта - Версия 4.2.2
- Небольшие исправления в работе микросервиса, повышение точности ответов. Обучена **специальная модель** для заполнения полей формы.

## 2 апреля - Версия 4.2.3
- **Полностью изменена логика поиска** заведения по справочнику, которая увеличивает шанс правильного заполнения до 90%.

## Май - Разработка дизайна
- Начата разработка дизайна **веб интерфейса**.

## 1 июня - Версия 5.0.0
- Релиз **веб интерфейса**, который включает в себя **Личный кабинет** пользователя и **Админ панель**, что позволяет продавать бота.
- В **Личный кабинет** добавлена гибкая настройка абсолютно всех функций бота.
- **Админ панель** позволяет просматривать и редактировать пользователей.
- Произошло **разделение кода** на более простые части, которые отвечают за определенный функционал. Была подключена **база данных MySQL**.
- Полностью переписана логика бота, которая позволяет сделать его **мультиарендным**, подготавливая его к продаже.
- Исправлен **баг с поиском клиента**, даже если клиент не был определен в диалоге.
- Добавлена функция **Экстренного сообщения** для добавления любого текста к ответу бота.
- Теперь бот позиционируется как **интеграция** в силу своего объемного функционала.

## 8 июня - Версия 5.0.1
- Добавлено **кэширование** конфигурации базы данных для ускорения работы.

## 9 июня - Начата разработка продажного лендинга для интеграций
- Разработан макет сайта, карточки товаров.
- Интеграция получила:
  - Базовый тариф, который включает в себя обработку задач на уровне L1, заполнение полей задачи и большинство всех функций.
  - Дополнительные функции, которые включают в себя персональное обучение модели за разовую оплату, обработку вложений и мультиканальность как отдельные опции с подпиской.

## 12 июня - Версия 5.1.0
- Добавлен новый **метод поиска клиента** в системе Pyrus. Появилась возможность искать клиента в справочнике, в реестре форм или отключить поиск клиента.
- Добавлена возможность выбрать и назвать до 4 полей для заполнения задачи с динамическим отображением текста системного сообщения для заполнения этих полей, что делает заполнение полей задачи универсальным для всех технических поддержек.

## 13 июня - Версия 5.1.1
- Добавлен **файл выгрузки реестра всех форм** раз в сутки для решения проблемы зависания из-за постоянного скачивания больших файлов.

## 14 июня - Версия 5.1.2
- Названия и описания веб интерфейса интеграции были переписаны.
- Интеграция получила свое название — **`Barry`** и логотип в виде минималистичной иконки ягоды голубики.

## 17 июня - Версия 5.2.0
- Полностью переписана **логика извлечения текста из вложений**, что позволило отказаться от сторонних API и перейти полностью на OpenAI.
- Все поступающие **изображения обрабатываются через `gpt-4o`**, что дает более глубокое **понимание входящих изображений**.
- Все поступающие аудио **сообщения транскрибируются через `whisper-1`**.

## 21 июня - Версия 5.2.1
- Исправлена ошибка обработки фотографий, поступающих вместе с текстом, из-за которой обрабатывался только текст.
- Теперь фотографии с поступающим текстом обрабатываются полностью.

## 25 июня - Версия 5.2.2
- Исправлеена ошибка при заполнении справочника, если колонка или поля для фильтрации не были указаны.

## 26 июня - Версия 5.2.3
- **Объединены карточки** Модели GPT и Параметры API в одну.
- Изменена структура карточки создания аккаунта.
- Добавлен **блок навигации** с якорями в админ панели.

## 27 июня - Версия 5.2.4
- Добавлена **адптация интерфейса** для мобильных устройств.
- Добавлен **блок навигации** в личном кабинете.
- Добавлены **страницы 404 и 405**.
- Добавлена **анимация загрузки** сайта.


## Планы
обязательные:
- Интеграция с новыми **CRM системами** для расширения области действия интеграции.
 1. amocrm
 2. okdesk
 3. chatapp
 4. bitrix24
- Улучшение **веб-интерфейса**: добавление статистики, отчётов и тёмной темы.

если есть возможность:
- Поддержка запуска **настраиваемых скриптов** в процессе обработки задачи. (Частые действия, которые выполняются на стороне техподдержки).
- **Интеграция с AnyDesk** для анализа необходимых данных и быстрого запуска всевозможных скриптов, которые добавит компания.