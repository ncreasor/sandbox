# AutoCLI

**Самоулучшающийся AI-агент с возможностью модификации собственного кода**

AutoCLI - это интеллектуальный CLI-инструмент, построенный на основе Claude Sonnet 4.5, который может выполнять команды, работать с файлами и самостоятельно улучшать свой код.

## Ключевые возможности

- **Агентная система** - полноценный AI-агент с доступом к инструментам
- **Выполнение команд** - запуск bash команд через встроенный инструмент
- **Работа с файлами** - чтение, запись, редактирование файлов
- **Самомодификация** - агент может улучшать свой собственный код
- **Автоматические бэкапы** - создание резервных копий перед изменениями
- **История разговоров** - сохранение контекста между сообщениями

## Структура проекта

```
autocli/
├── core/
│   ├── __init__.py
│   ├── cli.py          # Основной CLI интерфейс
│   └── agent.py        # Агентная система с Claude API
├── tools/
│   ├── __init__.py
│   ├── bash_tool.py    # Инструмент для выполнения команд
│   ├── file_tool.py    # Инструмент для работы с файлами
│   └── self_modify_tool.py  # Инструмент самомодификации
├── config/
│   └── config.json     # Конфигурация (API ключ, настройки)
├── logs/
│   └── autocli.log     # Логи работы
├── backups/            # Автоматические бэкапы
└── requirements.txt
```

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Проверьте конфигурацию в `config/config.json`:
```json
{
  "api_key": "your-api-key-here",
  "model": "claude-sonnet-4-5-20250929",
  "self_improvement": {
    "enabled": true,
    "auto_improve_on_error": true
  }
}
```

3. Запустите AutoCLI:
```bash
python core/cli.py
```

Или из корневой папки проекта:
```bash
python -m core.cli
```

## Использование

### Базовые команды

```
> help              # Показать справку
> exit              # Выход
> clear             # Очистить историю
> status            # Показать статус агента
> improve           # Запустить самоулучшение
> config            # Показать конфигурацию
```

### Примеры использования

#### Выполнение команд
```
> покажи текущую директорию
> создай файл test.txt с содержимым "Hello World"
> запусти pip install requests
```

#### Работа с файлами
```
> прочитай файл config.json
> создай новый Python скрипт для парсинга JSON
> отредактируй файл example.py и добавь обработку ошибок
```

#### Самоулучшение
```
> improve                           # Ручной запуск самоулучшения
> проанализируй свой код и исправь баги
> добавь новый инструмент для работы с API
```

## Инструменты

### 1. Bash Tool
Выполнение bash команд:
- Запуск скриптов
- Установка пакетов
- Проверка файловой системы
- Таймауты для долгих команд

### 2. File Tool
Операции с файлами:
- `read` - чтение файла
- `write` - запись в файл
- `append` - добавление в конец файла
- `delete` - удаление файла
- `list` - список файлов в директории
- `exists` - проверка существования

### 3. Self-Modify Tool
Самомодификация:
- `backup` - создание резервной копии
- `modify_file` - изменение файла проекта
- `list_files` - список файлов проекта
- `diff` - просмотр изменений

## Конфигурация

Файл `config/config.json`:

```json
{
  "api_key": "your-anthropic-api-key",
  "model": "claude-sonnet-4-5-20250929",
  "max_tokens": 8192,
  "temperature": 0.7,
  "self_improvement": {
    "enabled": true,
    "auto_improve_on_error": true,
    "improvement_threshold": 3,
    "backup_before_modify": true
  },
  "logging": {
    "enabled": true,
    "level": "INFO",
    "file": "logs/autocli.log"
  }
}
```

## Безопасность

- **Автоматические бэкапы** перед любой самомодификацией
- **Ограничение области** - агент может изменять только файлы проекта
- **Логирование** всех действий
- Все бэкапы сохраняются в `backups/` с timestamp

## Примеры самоулучшения

Агент может:
1. Находить и исправлять баги в своём коде
2. Добавлять новые функции по запросу
3. Оптимизировать существующий код
4. Улучшать обработку ошибок
5. Добавлять новые инструменты

Пример:
```
> У меня часто происходят ошибки при чтении больших файлов. Можешь исправить это?
```

Агент проанализирует код, найдёт проблему и исправит её, используя `self_modify` инструмент.

## Разработка

### Добавление нового инструмента

1. Создайте файл в `tools/new_tool.py`:
```python
class NewTool:
    def get_schema(self) -> dict:
        return {
            "name": "new_tool",
            "description": "Description",
            "input_schema": {...}
        }

    def execute(self, params: dict) -> str:
        # Ваша логика
        return "Result"
```

2. Зарегистрируйте в `core/agent.py`:
```python
from tools.new_tool import NewTool

self.tools_registry['new_tool'] = NewTool()
```

## Лицензия

MIT License

## Контакты

Проект создан как демонстрация возможностей самоулучшающихся AI-агентов на базе Claude.

---

**Внимание**: Этот проект экспериментальный. Всегда проверяйте изменения, которые агент вносит в код, особенно при использовании самомодификации.
